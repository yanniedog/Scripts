#!/bin/bash

COUNT=3
INTERVAL=1

for ((i=COUNT; i>0; i--)); do
    /bin/ping -c1 -n 8.8.8.8 >/dev/null 2>&1
    [ $? -eq 0 ] && exit 0
    sleep $INTERVAL
done
/sbin/reboot
